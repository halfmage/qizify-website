---
interface FAQItem {
	question: string;
	answer: string;
}

interface Props {
	headline: string;
	items: FAQItem[];
}

const { headline, items } = Astro.props;
---

<section class="py-12 md:py-20 px-4 md:px-8 bg-dark" id="faq">
	<div class="max-w-3xl mx-auto">
		<h2 class="text-center text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-10 md:mb-14">
			{headline}
		</h2>
		
		<div class="flex flex-col gap-4">
			{items.map((item, index) => (
				<details class="faq-accordion group bg-gray/20 border border-gray/50 rounded-2xl overflow-hidden hover:border-primary/50 transition-colors duration-300">
					<summary class="flex items-center justify-between gap-4 p-5 md:p-6 cursor-pointer list-none select-none">
						<span class="text-base md:text-lg font-medium text-white pr-2">
							{item.question}
						</span>
						<span class="faq-icon flex-shrink-0 w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center transition-transform duration-300 group-open:rotate-45">
							<svg 
								xmlns="http://www.w3.org/2000/svg" 
								viewBox="0 0 24 24" 
								fill="none" 
								stroke="currentColor" 
								stroke-width="2" 
								stroke-linecap="round" 
								stroke-linejoin="round"
								class="w-4 h-4 text-primary"
							>
								<line x1="12" y1="5" x2="12" y2="19"></line>
								<line x1="5" y1="12" x2="19" y2="12"></line>
							</svg>
						</span>
					</summary>
					<div class="faq-content px-5 md:px-6 pb-5 md:pb-6">
						<p class="text-white/70 leading-relaxed text-sm md:text-base m-0">
							{item.answer}
						</p>
					</div>
				</details>
			))}
		</div>
	</div>
</section>

<style>
	/* Remove default marker/arrow */
	details summary::-webkit-details-marker {
		display: none;
	}
	
	details summary::marker {
		display: none;
		content: '';
	}
	
	/* Smooth expand animation */
	.faq-content {
		animation: slideDown 0.3s ease-out;
	}
	
	@keyframes slideDown {
		from {
			opacity: 0;
			transform: translateY(-8px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}
	
	/* Open state styling */
	details[open] {
		background: linear-gradient(135deg, rgba(102, 101, 241, 0.08) 0%, rgba(213, 72, 239, 0.08) 100%);
		border-color: rgba(102, 101, 241, 0.4);
	}
	
	details[open] summary {
		border-bottom: 1px solid rgba(255, 255, 255, 0.1);
		padding-bottom: 1rem;
		margin-bottom: 0.5rem;
	}
</style>

